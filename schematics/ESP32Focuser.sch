EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L ESP32-DEVKITC-32D:ESP32-DEVKITC-32D U1
U 1 1 5E8B7E1F
P 6250 3450
F 0 "U1" H 6250 4617 50  0000 C CNN
F 1 "ESP32-DEVKITC-32D" H 6250 4526 50  0000 C CNN
F 2 "ESP32-DEVKITC-32D:MODULE_ESP32-DEVKITC-32D" H 6250 3450 50  0001 L BNN
F 3 "ESP32-DEVKITC-32D" H 6250 3450 50  0001 L BNN
F 4 "None" H 6250 3450 50  0001 L BNN "Field4"
F 5 "None" H 6250 3450 50  0001 L BNN "Field5"
F 6 "Unavailable" H 6250 3450 50  0001 L BNN "Field6"
F 7 "Espressif Systems" H 6250 3450 50  0001 L BNN "Field7"
F 8 "- Transceiver; 802.11 b/g/n _Wi-Fi, WiFi, WLAN_, BluetoothÂ® Smart Ready 4.x Dual Mode For Use With ESP-WROOM-32" H 6250 3450 50  0001 L BNN "Field8"
	1    6250 3450
	1    0    0    -1  
$EndComp
$Comp
L ESP32Focuser:TMC2209_Board U2
U 1 1 5E8BE4AE
P 3650 3350
F 0 "U2" H 3675 4181 50  0000 C CNN
F 1 "TMC2209_Board" H 3675 4090 50  0000 C CNN
F 2 "ESP32Focuser:TMC2209_Module" H 3250 4000 50  0001 C CNN
F 3 "" H 3250 4000 50  0001 C CNN
	1    3650 3350
	-1   0    0    -1  
$EndComp
Wire Bus Line
	4300 4100 5150 4100
Entry Wire Line
	4200 3050 4300 3150
Text Label 4050 3050 0    50   ~ 0
~EN
Entry Wire Line
	4200 3150 4300 3250
Entry Wire Line
	4200 3250 4300 3350
Entry Wire Line
	4200 3650 4300 3750
Entry Wire Line
	4200 3750 4300 3850
Wire Wire Line
	4200 3150 4050 3150
Wire Wire Line
	4050 3250 4200 3250
Wire Wire Line
	4050 3650 4200 3650
Wire Wire Line
	4050 3750 4200 3750
Text Label 4050 3150 0    50   ~ 0
MS1
Text Label 4050 3250 0    50   ~ 0
MS2
Text Label 4050 3650 0    50   ~ 0
STEP
Text Label 4050 3750 0    50   ~ 0
DIR
Entry Wire Line
	5250 3150 5150 3250
Entry Wire Line
	5150 3350 5250 3250
Entry Wire Line
	5150 3750 5250 3650
Entry Wire Line
	5150 3850 5250 3750
Entry Wire Line
	5150 4050 5250 3950
Wire Wire Line
	5450 3150 5250 3150
Text Label 5450 3950 2    50   ~ 0
~EN
Wire Wire Line
	5450 3750 5250 3750
Wire Wire Line
	5450 3650 5250 3650
Text Label 5450 3750 2    50   ~ 0
MS1
Text Label 5450 3650 2    50   ~ 0
MS2
Text Label 5450 3250 2    50   ~ 0
STEP
Text Label 5450 3150 2    50   ~ 0
DIR
Wire Wire Line
	3700 4100 3700 4250
$Comp
L power:GND #PWR0103
U 1 1 5E8C8671
P 5300 4100
F 0 "#PWR0103" H 5300 3850 50  0001 C CNN
F 1 "GND" H 5300 3950 50  0000 C CNN
F 2 "" H 5300 4100 50  0001 C CNN
F 3 "" H 5300 4100 50  0001 C CNN
	1    5300 4100
	1    0    0    -1  
$EndComp
Wire Wire Line
	5250 3950 5450 3950
Wire Wire Line
	5300 3850 5450 3850
$Comp
L power:+3.3V #PWR0104
U 1 1 5E8C9F14
P 5150 2550
F 0 "#PWR0104" H 5150 2400 50  0001 C CNN
F 1 "+3.3V" H 5165 2723 50  0000 C CNN
F 2 "" H 5150 2550 50  0001 C CNN
F 3 "" H 5150 2550 50  0001 C CNN
	1    5150 2550
	1    0    0    -1  
$EndComp
Wire Wire Line
	5450 2550 5150 2550
Wire Wire Line
	3500 2700 3500 2400
NoConn ~ 5450 4250
NoConn ~ 5450 4150
NoConn ~ 5450 4050
NoConn ~ 5450 3050
NoConn ~ 5450 2950
NoConn ~ 5450 2850
NoConn ~ 5450 2750
NoConn ~ 5450 2650
NoConn ~ 7050 2650
NoConn ~ 7050 2750
NoConn ~ 7050 2850
NoConn ~ 7050 2950
NoConn ~ 7050 3050
NoConn ~ 7050 3150
NoConn ~ 7050 3250
NoConn ~ 7050 3350
NoConn ~ 7050 3450
NoConn ~ 7050 3550
NoConn ~ 7050 3650
NoConn ~ 7050 3750
NoConn ~ 7050 3850
NoConn ~ 7050 4150
NoConn ~ 7050 4250
NoConn ~ 7050 4350
Wire Wire Line
	4200 3050 4050 3050
Wire Wire Line
	5450 3250 5250 3250
Wire Wire Line
	3500 4250 3500 4100
$Comp
L Connector_Generic:Conn_01x02 J1
U 1 1 5E9379CC
P 1100 2650
F 0 "J1" H 1300 2250 50  0000 C CNN
F 1 "PWR_Conn" H 1250 2350 50  0000 C CNN
F 2 "Connector_PinSocket_2.54mm:PinSocket_1x02_P2.54mm_Vertical" H 1100 2650 50  0001 C CNN
F 3 "~" H 1100 2650 50  0001 C CNN
	1    1100 2650
	-1   0    0    1   
$EndComp
$Comp
L power:GND #PWR0106
U 1 1 5E9383F2
P 1300 3050
F 0 "#PWR0106" H 1300 2800 50  0001 C CNN
F 1 "GND" H 1305 2877 50  0000 C CNN
F 2 "" H 1300 3050 50  0001 C CNN
F 3 "" H 1300 3050 50  0001 C CNN
	1    1300 3050
	1    0    0    -1  
$EndComp
$Comp
L power:PWR_FLAG #FLG0101
U 1 1 5E939E94
P 2350 2550
F 0 "#FLG0101" H 2350 2625 50  0001 C CNN
F 1 "PWR_FLAG" H 2350 2723 50  0000 C CNN
F 2 "" H 2350 2550 50  0001 C CNN
F 3 "~" H 2350 2550 50  0001 C CNN
	1    2350 2550
	1    0    0    -1  
$EndComp
$Comp
L power:PWR_FLAG #FLG0102
U 1 1 5E93A5AF
P 1150 2850
F 0 "#FLG0102" H 1150 2925 50  0001 C CNN
F 1 "PWR_FLAG" H 1150 3023 50  0000 C CNN
F 2 "" H 1150 2850 50  0001 C CNN
F 3 "~" H 1150 2850 50  0001 C CNN
	1    1150 2850
	-1   0    0    1   
$EndComp
$Comp
L power:+12V #PWR0107
U 1 1 5E93BAB7
P 2150 2400
F 0 "#PWR0107" H 2150 2250 50  0001 C CNN
F 1 "+12V" H 2165 2573 50  0000 C CNN
F 2 "" H 2150 2400 50  0001 C CNN
F 3 "" H 2150 2400 50  0001 C CNN
	1    2150 2400
	1    0    0    -1  
$EndComp
Wire Wire Line
	2150 2400 2150 2550
Connection ~ 2150 2550
Wire Wire Line
	2150 2550 2350 2550
$Comp
L power:+12V #PWR0108
U 1 1 5E93C38F
P 3800 2400
F 0 "#PWR0108" H 3800 2250 50  0001 C CNN
F 1 "+12V" H 3815 2573 50  0000 C CNN
F 2 "" H 3800 2400 50  0001 C CNN
F 3 "" H 3800 2400 50  0001 C CNN
	1    3800 2400
	1    0    0    -1  
$EndComp
Wire Wire Line
	3800 2400 3800 2700
$Comp
L ESP32Focuser:LM2596_Board U3
U 1 1 5E938094
P 4450 1200
F 0 "U3" H 4500 1515 50  0000 C CNN
F 1 "LM2596_Board" H 4500 1424 50  0000 C CNN
F 2 "ESP32Focuser:LM2596_Module" H 4050 1850 50  0001 C CNN
F 3 "" H 4050 1850 50  0001 C CNN
	1    4450 1200
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR0109
U 1 1 5E9388F1
P 5100 1100
F 0 "#PWR0109" H 5100 950 50  0001 C CNN
F 1 "+5V" H 5115 1273 50  0000 C CNN
F 2 "" H 5100 1100 50  0001 C CNN
F 3 "" H 5100 1100 50  0001 C CNN
	1    5100 1100
	1    0    0    -1  
$EndComp
$Comp
L power:+12V #PWR0110
U 1 1 5E938D75
P 3950 1100
F 0 "#PWR0110" H 3950 950 50  0001 C CNN
F 1 "+12V" H 3965 1273 50  0000 C CNN
F 2 "" H 3950 1100 50  0001 C CNN
F 3 "" H 3950 1100 50  0001 C CNN
	1    3950 1100
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0111
U 1 1 5E939112
P 4400 1800
F 0 "#PWR0111" H 4400 1550 50  0001 C CNN
F 1 "GND" H 4405 1627 50  0000 C CNN
F 2 "" H 4400 1800 50  0001 C CNN
F 3 "" H 4400 1800 50  0001 C CNN
	1    4400 1800
	1    0    0    -1  
$EndComp
Wire Wire Line
	4600 1800 4600 1550
Wire Wire Line
	4400 1550 4400 1800
Wire Wire Line
	4900 1200 5100 1200
Wire Wire Line
	5100 1200 5100 1100
Wire Wire Line
	4100 1200 3950 1200
Wire Wire Line
	3950 1200 3950 1100
$Comp
L power:+5V #PWR0113
U 1 1 5E93AF9E
P 5050 4350
F 0 "#PWR0113" H 5050 4200 50  0001 C CNN
F 1 "+5V" H 5065 4523 50  0000 C CNN
F 2 "" H 5050 4350 50  0001 C CNN
F 3 "" H 5050 4350 50  0001 C CNN
	1    5050 4350
	1    0    0    -1  
$EndComp
Wire Wire Line
	5450 4350 5050 4350
Wire Wire Line
	5300 4100 5300 3850
$Comp
L Connector_Generic:Conn_01x04 J2
U 1 1 5E93DBB8
P 2600 3400
F 0 "J2" H 2518 2975 50  0000 C CNN
F 1 "Motor_Conn" H 2518 3066 50  0000 C CNN
F 2 "Connector_PinSocket_2.54mm:PinSocket_1x04_P2.54mm_Vertical" H 2600 3400 50  0001 C CNN
F 3 "~" H 2600 3400 50  0001 C CNN
	1    2600 3400
	-1   0    0    1   
$EndComp
Wire Wire Line
	3200 3200 2800 3200
Wire Wire Line
	3200 3300 2800 3300
Wire Wire Line
	3200 3400 2800 3400
Wire Wire Line
	3200 3500 2800 3500
$Comp
L Connector_Generic:Conn_01x04 J3
U 1 1 5E960867
P 8050 3950
F 0 "J3" H 7968 3525 50  0000 C CNN
F 1 "Encoder_Conn" H 7968 3616 50  0000 C CNN
F 2 "Connector_PinSocket_2.54mm:PinSocket_1x04_P2.54mm_Vertical" H 8050 3950 50  0001 C CNN
F 3 "~" H 8050 3950 50  0001 C CNN
	1    8050 3950
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR04
U 1 1 5E962BAD
P 7700 4400
F 0 "#PWR04" H 7700 4150 50  0001 C CNN
F 1 "GND" H 7705 4227 50  0000 C CNN
F 2 "" H 7700 4400 50  0001 C CNN
F 3 "" H 7700 4400 50  0001 C CNN
	1    7700 4400
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR03
U 1 1 5E962F7C
P 7700 3700
F 0 "#PWR03" H 7700 3550 50  0001 C CNN
F 1 "+5V" H 7715 3873 50  0000 C CNN
F 2 "" H 7700 3700 50  0001 C CNN
F 3 "" H 7700 3700 50  0001 C CNN
	1    7700 3700
	1    0    0    -1  
$EndComp
Wire Wire Line
	7850 4150 7700 4150
Wire Wire Line
	7850 3850 7700 3850
Wire Wire Line
	7700 3850 7700 3700
Wire Wire Line
	7700 4150 7700 4400
$Comp
L Transistor_FET:AO3401A Q1
U 1 1 5E9B6965
P 1650 2650
F 0 "Q1" V 1992 2650 50  0000 C CNN
F 1 "AO3401A" V 1901 2650 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23" H 1850 2575 50  0001 L CIN
F 3 "http://www.aosmd.com/pdfs/datasheet/AO3401A.pdf" H 1650 2650 50  0001 L CNN
	1    1650 2650
	0    -1   -1   0   
$EndComp
Text Notes 1100 2000 0    50   ~ 0
https://habr.com/ru/post/254035/\nhttps://electronics.stackexchange.com/questions/61692/reverse-polarity-protection
$Comp
L Device:R R2
U 1 1 5E9B97CD
P 1650 3000
F 0 "R2" H 1580 2954 50  0000 R CNN
F 1 "20k" H 1580 3045 50  0000 R CNN
F 2 "Resistor_SMD:R_0805_2012Metric_Pad1.15x1.40mm_HandSolder" V 1580 3000 50  0001 C CNN
F 3 "~" H 1650 3000 50  0001 C CNN
	1    1650 3000
	-1   0    0    1   
$EndComp
$Comp
L Device:R R1
U 1 1 5E9BA074
P 1850 2700
F 0 "R1" H 1920 2746 50  0000 L CNN
F 1 "80k" H 1920 2655 50  0000 L CNN
F 2 "Resistor_SMD:R_0805_2012Metric_Pad1.15x1.40mm_HandSolder" V 1780 2700 50  0001 C CNN
F 3 "~" H 1850 2700 50  0001 C CNN
	1    1850 2700
	1    0    0    -1  
$EndComp
Wire Wire Line
	1850 2850 1650 2850
$Comp
L power:GND #PWR01
U 1 1 5E9BE747
P 1650 3150
F 0 "#PWR01" H 1650 2900 50  0001 C CNN
F 1 "GND" H 1655 2977 50  0000 C CNN
F 2 "" H 1650 3150 50  0001 C CNN
F 3 "" H 1650 3150 50  0001 C CNN
	1    1650 3150
	1    0    0    -1  
$EndComp
Connection ~ 1650 2850
Wire Wire Line
	1850 2550 2150 2550
Connection ~ 1850 2550
Wire Wire Line
	1300 2550 1450 2550
Wire Wire Line
	1300 2650 1300 2850
Wire Wire Line
	1150 2850 1300 2850
Connection ~ 1300 2850
Wire Wire Line
	1300 2850 1300 3050
$Comp
L Device:LED D1
U 1 1 5EB86BBF
P 1700 4100
F 0 "D1" H 1693 4316 50  0000 C CNN
F 1 "LED" H 1693 4225 50  0000 C CNN
F 2 "LED_THT:LED_D3.0mm" H 1700 4100 50  0001 C CNN
F 3 "~" H 1700 4100 50  0001 C CNN
	1    1700 4100
	0    -1   -1   0   
$EndComp
$Comp
L Device:R R3
U 1 1 5EB88F4B
P 1700 3800
F 0 "R3" H 1630 3754 50  0000 R CNN
F 1 "1k" H 1630 3845 50  0000 R CNN
F 2 "Resistor_SMD:R_0805_2012Metric_Pad1.15x1.40mm_HandSolder" V 1630 3800 50  0001 C CNN
F 3 "~" H 1700 3800 50  0001 C CNN
	1    1700 3800
	-1   0    0    1   
$EndComp
$Comp
L power:GND #PWR06
U 1 1 5EB89C2C
P 1700 4250
F 0 "#PWR06" H 1700 4000 50  0001 C CNN
F 1 "GND" H 1705 4077 50  0000 C CNN
F 2 "" H 1700 4250 50  0001 C CNN
F 3 "" H 1700 4250 50  0001 C CNN
	1    1700 4250
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR05
U 1 1 5EB8A495
P 1700 3650
F 0 "#PWR05" H 1700 3500 50  0001 C CNN
F 1 "+5V" H 1715 3823 50  0000 C CNN
F 2 "" H 1700 3650 50  0001 C CNN
F 3 "" H 1700 3650 50  0001 C CNN
	1    1700 3650
	1    0    0    -1  
$EndComp
Text Notes 1850 4100 0    50   ~ 0
Power ON\nRED
$Comp
L power:+5V #PWR0105
U 1 1 5EE6331A
P 3500 2400
F 0 "#PWR0105" H 3500 2250 50  0001 C CNN
F 1 "+5V" H 3515 2573 50  0000 C CNN
F 2 "" H 3500 2400 50  0001 C CNN
F 3 "" H 3500 2400 50  0001 C CNN
	1    3500 2400
	1    0    0    -1  
$EndComp
Entry Wire Line
	4300 3650 4200 3550
Wire Wire Line
	4050 3550 4200 3550
Text Label 4050 3550 0    50   ~ 0
CLK
Entry Wire Line
	4300 3550 4200 3450
Wire Wire Line
	4050 3450 4200 3450
Wire Wire Line
	4050 3350 4200 3350
Wire Wire Line
	4200 3350 4200 3450
Text Label 4050 3450 0    50   ~ 0
PDN
Entry Wire Line
	5150 3450 5250 3350
Wire Wire Line
	5450 3350 5250 3350
Entry Wire Line
	5150 3550 5250 3450
Wire Wire Line
	5450 3450 5250 3450
NoConn ~ 5450 3550
Text Label 5300 3350 0    50   ~ 0
CLK
Text Label 5300 3450 0    50   ~ 0
PDN
Wire Wire Line
	7050 4050 7500 4050
Wire Wire Line
	7500 4050 7500 3950
Wire Wire Line
	7500 3950 7850 3950
Wire Wire Line
	7050 3950 7350 3950
Wire Wire Line
	7350 3950 7350 4100
Wire Wire Line
	7350 4100 7600 4100
Wire Wire Line
	7600 4100 7600 4050
Wire Wire Line
	7600 4050 7850 4050
NoConn ~ 7050 2550
NoConn ~ 4600 1800
$Comp
L power:GND #PWR?
U 1 1 5EE8C957
P 3500 4250
F 0 "#PWR?" H 3500 4000 50  0001 C CNN
F 1 "GND" H 3505 4077 50  0000 C CNN
F 2 "" H 3500 4250 50  0001 C CNN
F 3 "" H 3500 4250 50  0001 C CNN
	1    3500 4250
	1    0    0    -1  
$EndComp
NoConn ~ 3700 4250
Wire Bus Line
	4300 3150 4300 4100
Wire Bus Line
	5150 3150 5150 4100
$EndSCHEMATC
